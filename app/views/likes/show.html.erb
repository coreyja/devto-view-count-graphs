<%= render 'layouts/graph_page', presenter: @presenter, active: :likes do %>

  <%= render 'icons/calendar', icon_class: 'h-5 w-5' %>
  <%= content_tag(:input, nil, type: 'text', name: 'range',
                  data: {
                    controller: "flatpickr",
                    flatpickr_mode: "range",
                    flatpickr_date_format: "Y-m-d",
                    flatpickr_alt_input: true,
                    flatpickr_alt_format: "F d Y",
                    flatpickr_min_date: @presenter.min_start_at.iso8601,
                    flatpickr_max_date: @presenter.max_end_at.iso8601,
                    flatpickr_default_date: "#{@presenter.start_at.iso8601} to #{@presenter.end_at.iso8601}"
                  }) %>

  <%= link_to 'Reset', article_likes_path(@presenter.article) %>

  <%= line_chart(
    @presenter.article_stats.group_by_hour(:recorded_at).maximum(:positive_reactions_count),
    xtitle: @presenter.timespan_in_words,
    ytitle: 'Likes',
  ) %>
<% end %>
